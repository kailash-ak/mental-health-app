{"ast":null,"code":"var _jsxFileName = \"C:\\\\mental-health-app\\\\client\\\\src\\\\pages\\\\problem.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Alert from '../components/ui/Alert'; // Corrected import statement\nimport { AlertDescription } from '../components/ui/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst questions = [{\n  text: \"Do you have at least one close friend?\",\n  feature: 'close.friend'\n}, {\n  text: \"Do you engage in repetitive behaviors?\",\n  feature: 'repetitive.behaviour'\n}, {\n  text: \"Do you prefer being alone over socializing?\",\n  feature: 'introvert'\n}, {\n  text: \"Do you hear or see things others don't?\",\n  feature: 'hallucinations'\n}, {\n  text: \"Do you breathe rapidly when anxious or scared?\",\n  feature: 'breathing.rapidly'\n}, {\n  text: \"Do you get angry over small things?\",\n  feature: 'anger'\n}, {\n  text: \"Do stressful memories suddenly pop up in your mind?\",\n  feature: 'popping.up.stressful.memory'\n}, {\n  text: \"Do you often feel negative about yourself?\",\n  feature: 'feeling.negative'\n}, {\n  text: \"Do you have frequent nightmares?\",\n  feature: 'having.nightmares'\n}, {\n  text: \"Do you have sudden energy bursts followed by extreme tiredness?\",\n  feature: 'increased.energy'\n}, {\n  text: \"Do you sweat excessively without physical activity?\",\n  feature: 'sweating'\n}, {\n  text: \"Have you noticed sudden weight gain or loss?\",\n  feature: 'weight.gain'\n}, {\n  text: \"Do you struggle to focus or complete tasks?\",\n  feature: 'having.trouble.with.work'\n}, {\n  text: \"Do you feel tired most of the time?\",\n  feature: 'feeling.tired'\n}, {\n  text: \"Have you ever had thoughts of self-harm or suicide?\",\n  feature: 'suicidal.thought'\n}];\nexport default function Problem() {\n  _s();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [age, setAge] = useState('');\n  const [error, setError] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n  const handleAnswer = answer => {\n    const feature = questions[currentQuestion].feature;\n    const numericAnswer = answer === 'yes' ? 1 : 0;\n    const newAnswers = {\n      ...answers,\n      [feature]: numericAnswer\n    };\n    setAnswers(newAnswers);\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(prev => prev + 1);\n    } else {\n      submitAnswers(newAnswers);\n    }\n  };\n  const submitAnswers = async finalAnswers => {\n    setIsSubmitting(true);\n    setError(null);\n    try {\n      const payload = {\n        answers: finalAnswers\n      };\n      console.log('Sending payload:', payload);\n      const response = await axios.post('http://localhost:5000/api/predict', payload, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        timeout: 10000\n      });\n      if (response.data) {\n        navigate('/Results', {\n          state: response.data,\n          replace: true\n        });\n      }\n    } catch (error) {\n      let errorMessage = 'An error occurred while submitting your answers.';\n      if (error.response) {\n        errorMessage = error.response.data.message || 'Server error occurred';\n      } else if (error.request) {\n        errorMessage = 'Unable to reach the server. Check your connection.';\n      }\n      setError(errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto bg-white rounded-lg shadow-sm p-6\",\n      children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"destructive\",\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(AlertDescription, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 h-2 bg-gray-200 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full bg-blue-500 rounded transition-all duration-300\",\n          style: {\n            width: `${(currentQuestion + 1) / questions.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-blue-600 mb-6\",\n        children: [\"Question \", currentQuestion + 1, \"/\", questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-8 text-lg\",\n        children: questions[currentQuestion].text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswer('yes'),\n          disabled: isSubmitting,\n          className: \"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswer('no'),\n          disabled: isSubmitting,\n          className: \"w-full bg-gray-200 text-gray-800 py-2 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(Problem, \"B+ucZxouXpfFt5z4L6mWfLoOBT0=\", false, function () {\n  return [useNavigate];\n});\n_c = Problem;\nvar _c;\n$RefreshReg$(_c, \"Problem\");","map":{"version":3,"names":["useState","useNavigate","axios","Alert","AlertDescription","jsxDEV","_jsxDEV","questions","text","feature","Problem","_s","currentQuestion","setCurrentQuestion","answers","setAnswers","age","setAge","error","setError","isSubmitting","setIsSubmitting","navigate","handleAnswer","answer","numericAnswer","newAnswers","length","prev","submitAnswers","finalAnswers","payload","console","log","response","post","headers","timeout","data","state","replace","errorMessage","message","request","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","style","width","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/mental-health-app/client/src/pages/problem.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Alert from '../components/ui/Alert'; // Corrected import statement\r\nimport { AlertDescription } from '../components/ui/Alert';\r\n\r\nconst questions = [\r\n  { text: \"Do you have at least one close friend?\", feature: 'close.friend' },\r\n  { text: \"Do you engage in repetitive behaviors?\", feature: 'repetitive.behaviour' },\r\n  { text: \"Do you prefer being alone over socializing?\", feature: 'introvert' },\r\n  { text: \"Do you hear or see things others don't?\", feature: 'hallucinations' },\r\n  { text: \"Do you breathe rapidly when anxious or scared?\", feature: 'breathing.rapidly' },\r\n  { text: \"Do you get angry over small things?\", feature: 'anger' },\r\n  { text: \"Do stressful memories suddenly pop up in your mind?\", feature: 'popping.up.stressful.memory' },\r\n  { text: \"Do you often feel negative about yourself?\", feature: 'feeling.negative' },\r\n  { text: \"Do you have frequent nightmares?\", feature: 'having.nightmares' },\r\n  { text: \"Do you have sudden energy bursts followed by extreme tiredness?\", feature: 'increased.energy' },\r\n  { text: \"Do you sweat excessively without physical activity?\", feature: 'sweating' },\r\n  { text: \"Have you noticed sudden weight gain or loss?\", feature: 'weight.gain' },\r\n  { text: \"Do you struggle to focus or complete tasks?\", feature: 'having.trouble.with.work' },\r\n  { text: \"Do you feel tired most of the time?\", feature: 'feeling.tired' },\r\n  { text: \"Have you ever had thoughts of self-harm or suicide?\", feature: 'suicidal.thought' }\r\n];\r\n\r\nexport default function Problem() {\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [answers, setAnswers] = useState({});\r\n  const [age, setAge] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleAnswer = (answer) => {\r\n    const feature = questions[currentQuestion].feature;\r\n    const numericAnswer = answer === 'yes' ? 1 : 0;\r\n    const newAnswers = { ...answers, [feature]: numericAnswer };\r\n\r\n    setAnswers(newAnswers);\r\n    \r\n    if (currentQuestion < questions.length - 1) {\r\n      setCurrentQuestion(prev => prev + 1);\r\n    } else {\r\n      submitAnswers(newAnswers);\r\n    }\r\n  };\r\n\r\n  const submitAnswers = async (finalAnswers) => {\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const payload = {\r\n        answers: finalAnswers\r\n      };\r\n  \r\n      console.log('Sending payload:', payload);\r\n\r\n      const response = await axios.post(\r\n        'http://localhost:5000/api/predict', \r\n        payload,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n          },\r\n          timeout: 10000\r\n        }\r\n      );\r\n\r\n      if (response.data) {\r\n        navigate('/Results', { \r\n          state: response.data,\r\n          replace: true\r\n        });\r\n      }\r\n    } catch (error) {\r\n      let errorMessage = 'An error occurred while submitting your answers.';\r\n      if (error.response) {\r\n        errorMessage = error.response.data.message || 'Server error occurred';\r\n      } else if (error.request) {\r\n        errorMessage = 'Unable to reach the server. Check your connection.';\r\n      }\r\n      setError(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-4\">\r\n      <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-sm p-6\">\r\n        {error && (\r\n          <Alert variant=\"destructive\" className=\"mb-4\">\r\n            <AlertDescription>{error}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        <div className=\"mb-4 h-2 bg-gray-200 rounded\">\r\n          <div \r\n            className=\"h-full bg-blue-500 rounded transition-all duration-300\"\r\n            style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}\r\n          />\r\n        </div>\r\n\r\n        <h2 className=\"text-2xl font-semibold text-blue-600 mb-6\">\r\n          Question {currentQuestion + 1}/{questions.length}\r\n        </h2>\r\n\r\n        <p className=\"text-gray-700 mb-8 text-lg\">\r\n          {questions[currentQuestion].text}\r\n        </p>\r\n\r\n        <div className=\"space-y-4\">\r\n          <button \r\n            onClick={() => handleAnswer('yes')}\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Yes\r\n          </button>\r\n          <button\r\n            onClick={() => handleAnswer('no')}\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-gray-200 text-gray-800 py-2 rounded hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            No\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}